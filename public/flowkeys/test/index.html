<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FlowKeys</title>

	<script src="https://hi2ma-bu4.github.io/bio/assets/js/static/auto-gtag.js" async></script>
	
	<script type="module">
		import { FlowKeys } from "../dist/FlowKeys.js"
		const fk = new FlowKeys(window);

		function addLog(text) {
			const li = document.createElement("li");
			li.textContent = text;
			document.getElementById("log").appendChild(li);
		}

		fk.addAlias("Return", ["Enter"]);

		// コナミコマンド登録
		fk.register(
			["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowRight", "ArrowLeft", "ArrowRight", "b", "a"],
			() => {
				const ret = "コナミコマンド";
				console.log(ret);
				addLog(ret);
			}
		);

		// 同時押し例
		fk.register(
			[
				["Control", "Shift", "K"], "M"
			],
			() => {
				const ret = "Ctrl+Shift+K → M";
				console.log(ret);
				addLog(ret);
			}
		);
		// 同時押し例2
		fk.register(
		[
			["Control", "Shift", "K"], ["Control", "Shift", "L"], "J"
		],
		() => {
			const ret = "Ctrl+Shift+K → Ctrl+Shift+L → J";
			console.log(ret);
			addLog(ret);
		}
		);

		fk.register(["Return"], () => {
			console.log("Enter または Return OK！");
		});

		fk.register(["A", "B", "C", "D"], () => {
			const ret = "ABCD";
			console.log(ret);
			addLog(ret);
		});

		fk.register(["A", "B", "C", "D", "E"], () => {
			const ret = "ABCDE";
			console.log(ret);
			addLog(ret);
		});
		fk.unregister(["A", "B", "C", "D"]);

		fk.register(["A", "P", "P", "L", "E"], () => {
			const ret = "Apple";
			console.log(ret);
			addLog(ret);
		}, {once: true});
	</script>
</head>
<body>
	<h3>FlowKeys</h3>
	<p>コマンドを入力してみてください。</p>
	<ul>
		<li>↑↑↓↓←→←→BA</li>
		<li>Ctrl+Shift+K M</li>
		<li>Ctrl+Shift+K Ctrl+Shift+L J</li>
		<li>ABCD (delete)</li>
		<li>ABCDE</li>
		<li>APPLE (once)</li>
	</ul>
	<br />
	<ul id="log"></ul>
</body>
</html>
